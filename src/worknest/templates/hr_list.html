<h2>ğŸ“‹ ì§ì› ëª©ë¡</h2>

<!-- ğŸ” ê²€ìƒ‰ ë° í•„í„° í¼ -->
<form method="get" style="margin-bottom: 20px;">
    <input type="text" name="search" placeholder="ì´ë¦„ ë˜ëŠ” ì´ë©”ì¼" value="{{ search }}">
    <input type="text" name="department" placeholder="ë¶€ì„œ" value="{{ department }}">
    <input type="text" name="position" placeholder="ì§ê¸‰" value="{{ position }}">
    <label>ì…ì‚¬ì¼:</label>
    <input type="date" name="from_date" value="{{ from_date }}">
    <span>~</span>
    <input type="date" name="to_date" value="{{ to_date }}">
    <button type="submit">ê²€ìƒ‰</button>
</form>

<table border="1" cellpadding="8">
<thead>
    <tr>
    <th>ID</th>
    <th>ì´ë¦„</th>
    <th>ë¶€ì„œ</th>
    <th>ì§ê¸‰</th>
    <th>ì´ë©”ì¼</th>
    <th>ì „í™”</th>
    <th>ì…ì‚¬ì¼</th>
    <th>í‡´ì‚¬ì¼</th>
    <th>ê³ ìš©í˜•íƒœ</th>
    <th>ê´€ë¦¬</th>
    </tr>
</thead>
<tbody>
    {% for emp in employees %}
    <tr>
        <td>{{ emp._id }}</td>
        <td>{{ emp.name }}</td>
        <td>{{ emp.department }}</td>
        <td>{{ emp.position }}</td>
        <td>{{ emp.email }}</td>
        <td>{{ emp.phone }}</td>
        <td>{{ emp.hire_date_str }}</td>
        <td>{{ emp.retire_date_str or '-' }}</td>
        <td>{{ emp.employment_type }}</td>
        <td>
            <a href="{{ url_for('edit_employee', emp_id=emp._id) }}">
                <button>ìˆ˜ì •</button>
            </a>
        </td>
    </tr>
    {% else %}
    <tr><td colspan="10">ë“±ë¡ëœ ì§ì›ì´ ì—†ìŠµë‹ˆë‹¤.</td></tr>
    {% endfor %}
</tbody>
</table>

{% if request.args.get('message') %}
<script>
    alert("{{ request.args.get('message') }}");
</script>
{% endif %}

<!-- ğŸ“Œ í˜ì´ì§• -->
<div style="margin-top: 20px;">
    {% if page > 1 %}
        <a href="?search={{ search }}&department={{ department }}&position={{ position }}&from_date={{ from_date }}&to_date={{ to_date }}&page={{ page - 1 }}">ì´ì „</a>
    {% endif %}

    í˜ì´ì§€ {{ page }} / {{ (total_count // 10) + (1 if total_count % 10 else 0) }}

    {% if page * 10 < total_count %}
        <a href="?search={{ search }}&department={{ department }}&position={{ position }}&from_date={{ from_date }}&to_date={{ to_date }}&page={{ page + 1 }}">ë‹¤ìŒ</a>
    {% endif %}
</div>
